(function(e){function t(t){for(var n,s,u=t[0],c=t[1],i=t[2],b=0,v=[];b<u.length;b++)s=u[b],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&v.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(v.length)v.shift()();return a.push.apply(a,i||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/samegoblin/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";r("85ec")},"0a5a":function(e,t,r){"use strict";r("af94")},"282e":function(e,t,r){},4729:function(e,t,r){e.exports=r.p+"img/replay.d3f9beae.svg"},"85ec":function(e,t,r){},"98f1":function(e,t,r){},af94:function(e,t,r){},bbcc:function(e,t,r){"use strict";r("98f1")},c994:function(e,t,r){"use strict";r("282e")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("h1",[e._v("Same Goblin")]),r("router-link",{attrs:{to:"/settings"}},[e._v("Settings")]),e._v(" | "),r("router-link",{attrs:{to:"/game"}},[e._v("Game")])],1),r("router-view")],1)},a=[],s=(r("034f"),r("2877")),u={},c=Object(s["a"])(u,o,a,!1,null,null,null),i=c.exports,l=r("8c4f"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{ud:"game"}},[r("GameGrid",{key:this.$store.state.randomKey})],1)},v=[],f=r("d4ec"),m=r("262e"),d=r("2caf"),h=r("9ab4"),p=r("1b40"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{attrs:{id:"game-grid"},on:{mouseout:function(t){return e.unhoverAllBubbles()}}},e._l(this.$store.state.bubbles,(function(t,r){return n("div",{key:r,staticClass:"bubble-stack"},e._l(t,(function(t,o){return n("GameBubble",{key:e.getKey(o,t),attrs:{bubbleIndex:o,stackIndex:r,bubble:t,className:e.getClassName(t)},on:{click:function(t){return e.clickBubble(r,o)}}})})),1)})),0),n("div",{attrs:{id:"scorebar"}},[n("div",[n("h2",{staticClass:"score"},[e._v(" Score: "+e._s(this.$store.state.score)+" "),e.getPotentialScore()>0?n("span",{staticClass:"potential"},[e._v("+ "+e._s(e.getPotentialScore()))]):e._e()]),n("h2",{staticClass:"score"},[e._v("Best: "+e._s(this.$store.state.hiScore))])]),n("img",{attrs:{src:r("4729"),height:"40px"},on:{click:function(t){return e.resetGame()}}})])])},y=[],C=r("bee2"),_=(r("d3b7"),r("25f0"),r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:[e.className],on:{click:function(t){return e.clickBubble()},mouseover:function(t){return e.hoverBubble()}}})}),O=[],j=(r("a9e3"),p["b"].extend({props:{stackIndex:Number,bubbleIndex:Number,bubble:{type:Object},className:String}})),k=function(e){Object(m["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(C["a"])(r,[{key:"clickBubble",value:function(){this.$store.dispatch("handleBubbleClick")}},{key:"hoverBubble",value:function(){if(!this.bubble.hovered){var e={x:this.stackIndex,y:this.bubbleIndex,requiredColor:this.bubble.color};this.$store.dispatch("hoverBubblesDriver",e)}}},{key:"getColor",value:function(){return this.className}}]),r}(j);k=Object(h["a"])([p["a"]],k);var w=k,x=w,B=(r("0a5a"),Object(s["a"])(x,_,O,!1,null,null,null)),S=B.exports,G=function(e){Object(m["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.bubbles=e.$store.state.bubbles,e}return Object(C["a"])(r,[{key:"getClassName",value:function(e){var t="bubble ";return t+=e.color,t+=e.hovered?" hovered":"",t}},{key:"getKey",value:function(e,t){var r=e.toString();return r+=t.hovered?"hov":"reg",r}},{key:"getPotentialScore",value:function(){var e=0;return this.$store.state.bubbles.forEach((function(t){t.forEach((function(t){t.hovered&&e++}))})),0===e?0:Math.pow(e-1,2)}},{key:"unhoverAllBubbles",value:function(){this.$store.dispatch("unhoverAllBubbles")}},{key:"resetGame",value:function(){this.$store.dispatch("resetGame")}}]),r}(p["b"]);G=Object(h["a"])([Object(p["a"])({components:{GameBubble:S}})],G);var R=G,$=R,H=(r("bbcc"),Object(s["a"])($,g,y,!1,null,null,null)),E=H.exports,K=function(e){Object(m["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return r}(p["b"]);K=Object(h["a"])([Object(p["a"])({components:{GameGrid:E}})],K);var N=K,P=N,T=Object(s["a"])(P,b,v,!1,null,null,null),A=T.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"settings"},[r("div",{staticClass:"carousel"},[r("router-link",{attrs:{to:"/game"}},[r("div",{staticClass:"optionCard",on:{click:function(t){return e.startGame(9,9)}}},[r("h2",{staticClass:"cardTitle"},[e._v("Quick")]),r("div",{staticClass:"sampleBoard quick"}),r("h2",{staticClass:"cardTitle"},[e._v("9 x 9")])])]),r("router-link",{attrs:{to:"/game"}},[r("div",{staticClass:"optionCard",on:{click:function(t){return e.startGame(9,16)}}},[r("h2",{staticClass:"cardTitle"},[e._v("Classic")]),r("div",{staticClass:"sampleBoard classic"}),r("h2",{staticClass:"cardTitle"},[e._v("9 x 16")])])]),r("router-link",{attrs:{to:"/game"}},[r("div",{staticClass:"optionCard",on:{click:function(t){return e.startGame(16,24)}}},[r("h2",{staticClass:"cardTitle"},[e._v("Jumbo")]),r("div",{staticClass:"sampleBoard jumbo"}),r("h2",{staticClass:"cardTitle"},[e._v("16 x 24")])])])],1)])},I=[],q=function(e){Object(m["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(C["a"])(r,[{key:"startGame",value:function(e,t){this.$store.dispatch("startNewGame",{numRows:e,numCols:t})}}]),r}(p["b"]);q=Object(h["a"])([p["a"]],q);var J=q,D=J,Q=(r("c994"),Object(s["a"])(D,M,I,!1,null,"2a322ced",null)),z=Q.exports,F=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("This is an about page")])])}],U={},V=Object(s["a"])(U,F,L,!1,null,null,null),W=V.exports;n["a"].use(l["a"]);var X=[{path:"/",name:"Settings",component:z},{path:"/about",name:"About",component:W},{path:"/settings",name:"settings",component:z},{path:"/game",name:"Game",component:A}],Y=new l["a"]({routes:X}),Z=Y;r("4de4");function ee(e,t){for(var r=[],n=0;n<t;n++){for(var o=[],a=0;a<e;a++)o.push({color:te(),key:a,hovered:!1});r.push(o)}return r}function te(){var e=Math.floor(4*Math.random());switch(e){case 0:return"red";case 1:return"green";case 2:return"blue";case 3:return"yellow";default:return""}}var re=r("2f62");n["a"].use(re["a"]);var ne=new re["a"].Store({state:{numRows:9,numCols:16,bubbles:ee(9,16),bubbleReserves:ee(9,16),randomKey:!0,numHovered:0,score:0,hiScore:0},mutations:{resetNumHovered:function(e){e.numHovered=0},toggleRandomKey:function(e){e.randomKey=!e.randomKey},setBubbleHover:function(e,t){e.bubbles[t.x][t.y].hovered=!0,e.numHovered++},incrementScore:function(e){e.score+=Math.pow(e.numHovered-1,2),e.score>e.hiScore&&(e.hiScore=e.score)},removeHoveredBubbles:function(e){e.bubbles.forEach((function(t,r){var n=t.length;e.bubbles[r]=t.filter((function(e){return!e.hovered}));for(var o=n-e.bubbles[r].length,a=e.bubbleReserves[r],s=0;s<o;s++){var u=a.shift();u&&e.bubbles[r].push(u)}})),e.numHovered=0},unhoverAll:function(e){for(var t=0;t<e.bubbles.length;t++){var r=e.bubbles[t];r.forEach((function(e){return e.hovered=!1}))}e.numHovered=0},resetGameState:function(e){e.bubbles=ee(e.numRows,e.numCols),e.bubbleReserves=ee(e.numRows,e.numCols),e.score=0,e.numHovered=0},setRowsCols:function(e,t){e.numRows=t.numRows,e.numCols=t.numCols}},actions:{hoverBubbleRecursive:function(e,t){var r,n=e.commit,o=e.dispatch;try{r=this.state.bubbles[t.x][t.y]}catch(s){return}if(r&&!0!==r.hovered&&r.color===t.requiredColor){n("setBubbleHover",t);var a=[[-1,0],[1,0],[0,1],[0,-1]];a.forEach((function(e){o("hoverBubbleRecursive",{x:t.x+e[0],y:t.y+e[1],requiredColor:t.requiredColor})}))}},handleBubbleClick:function(e){var t=e.commit;this.state.numHovered>1&&(t("incrementScore"),t("removeHoveredBubbles"),t("toggleRandomKey"))},hoverBubblesDriver:function(e,t){var r=e.commit,n=e.dispatch;r("unhoverAll"),n("hoverBubbleRecursive",t),r("toggleRandomKey")},unhoverAllBubbles:function(e){var t=e.commit;t("unhoverAll"),t("toggleRandomKey")},resetGame:function(e){var t=e.commit;t("unhoverAll"),t("resetGameState"),t("toggleRandomKey")},startNewGame:function(e,t){var r=e.commit;r("setRowsCols",{numRows:t.numRows,numCols:t.numCols}),r("resetGameState"),r("toggleRandomKey")}},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:Z,store:ne,render:function(e){return e(i)}}).$mount("#app")}});
//# sourceMappingURL=app.8ab1b800.js.map