(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],l=0,m=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/phase-10/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"072e":function(e,t,a){"use strict";a("7166")},1008:function(e,t,a){"use strict";a("21f1")},"20e7":function(e,t,a){"use strict";a("240a")},"21bb":function(e,t,a){"use strict";a("2dad")},"21f1":function(e,t,a){},"240a":function(e,t,a){},"26b9":function(e,t,a){"use strict";a("5ecf")},"2dad":function(e,t,a){},"345a":function(e,t,a){"use strict";a("97a4")},"3d7f":function(e,t,a){},"5c0b":function(e,t,a){"use strict";a("9c0c")},"5d35":function(e,t,a){"use strict";a("6e38")},"5ecf":function(e,t,a){},"607b":function(e,t,a){},"6e38":function(e,t,a){},7166:function(e,t,a){},"8a2d":function(e,t,a){"use strict";a("607b")},"920c":function(e,t,a){},"97a4":function(e,t,a){},9836:function(e,t,a){},"9c0c":function(e,t,a){},b688:function(e,t,a){},bd2a:function(e,t,a){"use strict";a("920c")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s=(a("5c0b"),a("2877")),i={},c=Object(s["a"])(i,n,o,!1,null,null,null),u=c.exports,d=a("8c4f"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.notInRoom?a("create-join"):e.inRoom?a("waiting-room"):e.gameStarted?a("game"):e.gameOver?a("game-results"):e._e()],1)},m=[],h=a("1b40"),p=a("daa8"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h1",[e._v("Phase 10")]),a("div",{staticClass:"content"},[a("div",{staticClass:"rightborder"},[a("h2",[e._v("Create room")]),a("button",{on:{click:function(t){return e.createRoom()}}},[e._v("Create")])]),a("div",[a("h2",[e._v("Join room")]),a("div",{staticClass:"flex-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.roomId,expression:"roomId"}],attrs:{type:"text",placeholder:"Code",maxlength:4},domProps:{value:e.roomId},on:{input:function(t){t.target.composing||(e.roomId=t.target.value)}}}),a("button",{on:{click:function(t){return e.joinRoom()}}},[e._v("Join")])]),a("proctor-board"),this.codeIsInvalid?a("p",{attrs:{id:"join-error"}},[e._v("Invalid room code")]):e._e()],1)])])},v=[],g=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"proctorBoard"}},[a("p",[e._v(e._s(e.message))])])}),y=[],b=r["a"].component("proctor-board",{name:"ProctorBoard",computed:{message:function(){return this.$store.state.proctorMessage}}}),C=b,_=(a("26b9"),Object(s["a"])(C,g,y,!1,null,"72883b1a",null)),I=_.exports,w=h["a"].component("create-join",{name:"CreateJoin",components:{ProctorBoard:I},data:function(){return{socket:Object(p["a"])(),roomId:"",joinDisabled:!0,codeIsInvalid:!1}},computed:{getName:function(){return this.$store.state.name}},methods:{joinRoom:function(){console.log("joining room: ",this.roomId),this.$socket.emit("joinRoom",{roomId:this.roomId}),this.$store.commit("setProctorMessage","")},createRoom:function(){this.$store.commit("setProctorMessage",""),this.$socket.emit("createRoom")}}}),S=w,$=(a("ffde"),Object(s["a"])(S,f,v,!1,null,"0eb4432a",null)),x=$.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{attrs:{id:"roomIdLabel"}},[e._v("Room code")]),a("h1",{attrs:{id:"roomId"}},[e._v(e._s(e.getRoomId))]),a("proctor-board"),e.confirmedName?e._e():a("div",{attrs:{id:"nameForm"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nameInput,expression:"nameInput"}],attrs:{type:"text",placeholder:"Your name",maxlength:10},domProps:{value:e.nameInput},on:{input:function(t){t.target.composing||(e.nameInput=t.target.value)}}}),a("button",{on:{click:function(t){return e.confirmName()}}},[e._v("Confirm")])]),a("div",{staticClass:"personas"},e._l(e.playersInRoom,(function(e){return a("waiting-persona",{key:e.key,attrs:{player:e}})})),1),a("div",{staticClass:"bottomRow"},[a("button",{attrs:{id:"start",disabled:e.startIsDisabled},on:{click:function(t){return e.startGame()}}},[e._v(" Start ")])])],1)},O=[],M=a("2909"),D=(a("d3b7"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"waitingPersona"},[a("span",[e._v(" "+e._s(e.playerInitial)+" ")])]),a("p",[e._v(e._s(e.playerName))])])}),P=[];function R(){var e=[];return e}var j,q,E=h["a"].component("waiting-persona",{name:"WaitingPersona",props:{player:void 0},computed:{playerInitial:function(){return""===this.player.gamename?"?":this.player.gamename[0]},playerName:function(){return this.player.gamename}}}),K=E,T=(a("bd2a"),Object(s["a"])(K,D,P,!1,null,"53e9fc09",null)),N=T.exports,B=h["a"].component("waiting-room",{name:"WaitingRoom",data:function(){return{socket:Object(p["a"])(),nameInput:""}},components:{WaitingPersona:N,ProctorBoard:I},computed:{getRoomId:function(){return this.$store.state.roomId},playersInRoom:function(){return this.$store.state.playersInRoom},startIsDisabled:function(){var e=this.$store.state.playersInRoom,t=e.length<2||e.length>6||e.some((function(e){return""===e.gamename}));return t},confirmedName:function(){return""!==this.$store.state.gamename}},methods:{confirmName:function(){var e=function(e){return Object(M["a"])(e.toUpperCase()).every((function(e){return e>="A"&&e<="Z"}))};if(this.$store.commit("setProctorMessage",""),e(this.nameInput)){var t=this.$store.state.playerId;this.$socket.emit("setGamename",{gamename:this.nameInput,playerId:t})}},startGame:function(){var e=this.$store.state.playerId;this.$socket.emit("startGame",{playerId:e})}}}),H=B,G=(a("8a2d"),Object(s["a"])(H,k,O,!1,null,"1496e535",null)),Y=G.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("proctor-board"),a("div",{attrs:{id:"game-container"}},[a("draw-discard"),a("div",{attrs:{id:"table-sets"}},e._l(e.players,(function(e){return a("table-set",{key:e.key,attrs:{player:e}})})),1),a("div",{attrs:{id:"hand"}},[a("own-hand",{attrs:{roundIsOver:e.roundIsOver}})],1)],1)],1)},W=[],A=(a("4e82"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drawDiscard"},[a("p",[e._v("Draw")]),a("div",{staticClass:"pileCard",on:{click:function(t){return e.hitDraw()}}},[a("phase-card",{attrs:{cardData:e.drawCard,baseClass:"gameCard"}})],1),a("p",[e._v("Discard")]),a("div",{staticClass:"pileCard",on:{click:function(t){return e.hitDiscard()}}},[a("phase-card",{attrs:{cardData:e.discardCard,baseClass:"gameCard"}})],1)])}),J=[],X=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.cardClass,attrs:{id:this.cardData.key},on:{dragstart:e.startDrag}},[a("p",{class:e.colorClass},[e._v(e._s(this.cardData.text))])])}),z=[],L=r["a"].component("phase-card",{name:"PhaseCard",props:["cardData","baseClass"],computed:{colorClass:function(){switch(this.cardData.color){case 1:return"red";case 2:return"blue";case 3:return"yellow";case 4:return"green";default:return"black"}},cardClass:function(){return this.baseClass+" "+this.selectedClass},selectedClass:function(){var e=this.$store.state.selectedCardKeys;return e[this.cardData.key]?"selected":""}},methods:{startDrag:function(e){this.$emit("startDrag",{event:e,card:this.cardData})}}}),F=L,Z=(a("1008"),Object(s["a"])(F,X,z,!1,null,"050da7cc",null)),Q=Z.exports,V=r["a"].component("draw-discard",{name:"DrawDiscard",components:{PhaseCard:Q},computed:{drawCard:function(){return this.$store.state.drawCard||{}},discardCard:function(){return this.$store.state.discardCard||{}}},methods:{hitDraw:function(){var e=this.$store.state,t=e.playerId,a=e.gameState;a.drew||this.$socket.emit("takeCard",{pileName:"draw",playerId:t})},hitDiscard:function(){var e=this.$store.state,t=e.playerId,a=e.selectedCardKeys,r=e.hand,n=e.gameState,o=r.filter((function(e){return a[e.key]}));n.drew&&1===o.length?this.$socket.emit("discard",{card:o[0],playerId:t}):n.drew&&o.length>1?this.$store.commit("setProctorMessage","You can only discard one card. Select a single card then try again."):n.drew&&!o.length?this.$store.commit("setProctorMessage","Please select a single card to discard and try again."):n.drew||this.$socket.emit("takeCard",{pileName:"discard",playerId:t}),this.$store.commit("unSelectAllCards")}}}),ee=V,te=(a("5d35"),Object(s["a"])(ee,A,J,!1,null,"232501a2",null)),ae=te.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",class:e.cursorClass,on:{mousedown:e.handleMouseDown,mousemove:e.handleMouseMove,mouseup:e.handleMouseUp,drop:function(t){return e.onDrop(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[a("div",{attrs:{id:"marquee"}}),e.roundIsOver?e._e():a("tool-box",{on:{sortUpdate:e.setSortType,selectUpdate:e.setSelectionType,sortHand:e.handleSortHand}}),e._l(e.hand,(function(t){return a("phase-card",{key:t.key,attrs:{cardData:t,baseClass:"gameCard",draggable:e.isDraggable},on:{startDrag:e.handleStartDrag}})})),e.roundIsOver?a("button",{on:{click:e.advanceRound}},[e._v("Next round")]):e._e()],2)},ne=[],oe=a("5530");a("c740"),a("a434"),a("159b"),a("b64b");(function(e){e[e["value"]=0]="value",e[e["color"]=1]="color"})(j||(j={})),function(e){e[e["marquee"]=0]="marquee",e[e["drag"]=1]="drag"}(q||(q={}));var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tools"},[a("div",{staticClass:"iconStack border"},[a("div",{staticClass:"iconButton",class:e.marqueeSelected,on:{click:function(t){return e.setSelectMethod("marquee")}}},[a("select-drag",{staticClass:"icon"})],1),a("div",{staticClass:"iconButton",class:e.dragSelected,on:{click:function(t){return e.setSelectMethod("drag")}}},[a("arrow-all",{staticClass:"icon"})],1)]),a("div",{staticClass:"iconStack"},[a("div",{staticClass:"iconButton",on:{click:function(t){return e.setSortMethod("value")}}},[a("numeric-icon",{staticClass:"icon"})],1),a("div",{staticClass:"iconButton",on:{click:function(t){return e.setSortMethod("color")}}},[a("palette-icon",{staticClass:"icon"})],1)])])},ie=[],ce=a("6509"),ue=a("0d2e"),de=a("8c43"),le=a("5be1"),me=r["a"].component("tool-box",{name:"ToolBox",components:{NumericIcon:ce["a"],PaletteIcon:ue["a"],SelectDrag:de["a"],ArrowAll:le["a"]},data:function(){return{sortMethod:j.value,selectMethod:q.marquee}},computed:{numberSelected:function(){return this.sortMethod===j.value?"selected":""},palleteSelected:function(){return this.sortMethod===j.color?"selected":""},marqueeSelected:function(){return this.selectMethod===q.marquee?"selected":""},dragSelected:function(){return this.selectMethod===q.drag?"selected":""}},methods:{setSortMethod:function(e){"value"===e?this.sortMethod=j.value:"color"===e&&(this.sortMethod=j.color),this.$emit("sortHand",this.sortMethod)},setSelectMethod:function(e){"marquee"===e?this.selectMethod=q.marquee:"drag"===e&&(this.selectMethod=q.drag),this.$emit("selectUpdate",this.selectMethod)}}}),he=me,pe=(a("20e7"),Object(s["a"])(he,se,ie,!1,null,"b08e096c",null)),fe=pe.exports,ve=a("2ef0"),ge=a.n(ve),ye=r["a"].component("own-hand",{name:"OwnHand",props:["roundIsOver"],data:function(){return{mouseIsDown:!1,boxW:0,boxH:0,boxX:0,boxY:0,marquee:null,selectedKeys:{},marqueeKeys:{},cardSortMethod:j.value,cardSelectionMethod:q.marquee}},components:{PhaseCard:Q,ToolBox:fe},mounted:function(){this.marquee=document.getElementById("marquee"),this.selectedKeys=this.$store.state.selectedCardKeys},computed:{hand:function(){var e=this.$store.state.hand;return e},handEls:function(){return document.getElementsByClassName("gameCard")},cursorClass:function(){var e=this.cardSelectionMethod===q.marquee?"cursorMarquee":"cursorDrag";return e},isDraggable:function(){return this.cardSelectionMethod===q.drag}},methods:{setSortType:function(e){this.cardSortMethod=e},setSelectionType:function(e){this.cardSelectionMethod=e},advanceRound:function(){this.$socket.emit("advanceRound",{playerId:this.$store.state.playerId})},handleSortHand:function(e){var t=e===j.value?"value":"color",a=this.$store.state.hand;a.sort((function(e,a){return e[t]-a[t]})),this.$store.commit("setHandWithoutReorder",a)},handleMouseDown:function(e){if(this.cardSelectionMethod===q.marquee){this.selectedKeys=this.$store.state.selectedCardKeys,this.marquee.style.display="block",this.boxX=e.clientX,this.boxY=e.clientY,this.marquee.style.top=e.clientY+"px",this.marquee.style.left=e.clientX+"px",this.marquee.style.width="0px",this.marquee.style.height="0px",this.marqueeKeys=be(this.marquee.getBoundingClientRect(),this.handEls);var t=_e(this.selectedKeys,this.marqueeKeys);this.$store.commit("setSelectedCardKeys",t),this.mouseIsDown=!0}},handleMouseMove:function(e){if(this.mouseIsDown&&this.cardSelectionMethod===q.marquee){var t=Ce(this.boxX,this.boxY,e.clientX,e.clientY);this.marquee.style.top=t.y+"px",this.marquee.style.left=t.x+"px",this.marquee.style.height=t.h+"px",this.marquee.style.width=t.w+"px",this.marqueeKeys=be(this.marquee.getBoundingClientRect(),this.handEls);var a=_e(this.selectedKeys,this.marqueeKeys);this.$store.commit("setSelectedCardKeys",a)}},handleMouseUp:function(e){this.cardSelectionMethod===q.marquee&&(this.mouseIsDown=!1,this.marquee.style.display="none",this.marquee.style.height="0px",this.marquee.style.width="0px",this.selectedKeys=_e(this.selectedKeys,this.marqueeKeys))},handleStartDrag:function(e){var t=e.event,a=e.card;this.cardSelectionMethod===q.drag&&(t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("key",a.key))},onDrop:function(e){if(this.cardSelectionMethod===q.drag){var t=e.dataTransfer.getData("key"),a=e.target,r=this.$store.state.hand,n="P"===a.nodeName?a.parentNode:a,o=n.id,s=ge.a.findIndex(r,(function(e){return e.key===t})),i=ge.a.findIndex(r,(function(e){return e.key===o})),c=r.splice(s,1)[0];r.splice(i,0,c),this.$store.commit("setHandWithoutReorder",r)}}}});function be(e,t){var a=function(e,t,a){return a>=e&&a<=t},r=Object(M["a"])(t).filter((function(t){var r=t.getBoundingClientRect();if((a(r.top,r.bottom,e.top)||a(r.top,r.bottom,e.bottom))&&e.left<=r.right&&e.right>=r.left)return t})),n={};return r.forEach((function(e){return n[e.id]=!0})),n}function Ce(e,t,a,r){var n={x:0,y:0,h:0,w:0};return e>a?(n.x=a,n.w=e-a):(n.x=e,n.w=a-e),t>r?(n.y=r,n.h=t-r):(n.y=t,n.h=r-t),n}function _e(e,t){var a=Object(oe["a"])({},e);return Object.keys(t).forEach((function(e){void 0!==a[e]?a[e]=!a[e]:a[e]=!0})),a}var Ie=ye,we=(a("345a"),Object(s["a"])(Ie,re,ne,!1,null,"62cc710c",null)),Se=we.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"headerData"},[a("h2",[e._v(e._s(e.displayName))]),a("h2",{staticClass:"score"},[e._v("Score: "+e._s(this.player.points))]),a("h2",{staticClass:"score"},[e._v(e._s(e.completionPercent))])]),a("div",{staticClass:"cardArea"},e._l(this.player.phase,(function(t,r){return a("div",{key:r,staticClass:"cardSet",on:{click:function(t){return e.playSelectedCards(r)}}},[a("p",[e._v(e._s(e.setLabel(t)))]),t.cards.length?a("div",{staticClass:"cards"},e._l(t.cards,(function(e){return a("phase-card",{key:e.key,attrs:{cardData:e,baseClass:"tableCard"}})})),1):a("div",{staticClass:"cards"},e._l(t.size,(function(e,t){return a("div",{key:t,staticClass:"tableCard"})})),0)])})),0)])},xe=[],ke=(a("99af"),r["a"].component("table-set",{name:"TableSet",props:["player"],computed:{phase:function(){return this.player.phase},displayName:function(){return this.player.gamename===this.$store.state.gamename?"".concat(this.player.gamename," (You)"):this.player.gamename},completionPercent:function(){return(this.player.phaseNumber-1)/10*100+"%"}},methods:{setLabel:function(e){return"color"===e.pattern?"".concat(e.size," cards of one color"):"".concat(e.pattern," of ").concat(e.size)},playSelectedCards:function(e){var t=this.$store.state.gameState.drew,a=this.$store.state,r=a.selectedCardKeys,n=a.hand,o=a.playerId;if(!t)return this.$store.commit("setProctorMessage","You must draw before playing cards. Take a card from the draw or discard pile!");var s=n.filter((function(e){return r[e.key]})),i={playerId:o,gamename:this.player.gamename,phaseIndex:e,cards:s};this.$socket.emit("playCards",i),this.$store.commit("unSelectAllCards")},removePlayedCards:function(e){console.log("hit remove")}}})),Oe=ke,Me=(a("072e"),Object(s["a"])(Oe,$e,xe,!1,null,"4077ba5c",null)),De=Me.exports,Pe=r["a"].extend({components:{OwnHand:Se,TableSet:De,DrawDiscard:ae,ProctorBoard:I},computed:{players:function(){var e=this.$store.state.playersInRoom;return e.sort((function(e,t){return e.gamename<t.gamename?1:e.gamename>t.gamename?-1:0}))},roundIsOver:function(){return this.$store.state.gameState.roundIsOver}}}),Re=Pe,je=(a("fa14"),Object(s["a"])(Re,U,W,!1,null,"13b6ecfc",null)),qe=je.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Results")]),a("div",{staticClass:"throne"},[a("div",{attrs:{id:"crown"}},[a("chess-king",{attrs:{size:150}})],1),a("span",[e._v(" "+e._s(e.winner.gamename[0])+" ")]),a("p",[e._v(e._s(e.winner.gamename)+" wins!")])]),a("div",{staticClass:"container"},[a("table",[e._m(0),e._l(e.players,(function(t){return a("tr",{key:t.key},[a("td",{staticClass:"playerName"},[e._v(e._s(t.gamename))]),a("td",[e._v(e._s(t.points))]),a("td",[e._v(e._s(e.completionPercent(t))+"%")])])}))],2)])])},Ke=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticClass:"playerName"},[e._v("Player")]),a("th",[e._v("Points")]),a("th",[e._v("Completed")])])}],Te=a("3a31"),Ne=r["a"].extend({components:{ChessKing:Te["a"]},data:function(){return{crownCycle:0}},mounted:function(){window.setInterval(this.floatCrown,100)},computed:{players:function(){var e=this.$store.state.playersInRoom;return e.sort((function(e,t){return e.points>t.points?1:e.points<t.points?-1:0}))},winner:function(){for(var e=this.players,t=0,a=e[0].points,r=0;r<this.players.length;r++)e[r].points<a&&(t=r,a=e[r].points);return e[t]}},methods:{completionPercent:function(e){return e.phaseNumber/10*100},floatCrown:function(){var e=document.getElementById("crown");e&&this.crownCycle++}}}),Be=Ne,He=(a("f1aa"),Object(s["a"])(Be,Ee,Ke,!1,null,"e209454a",null)),Ge=He.exports,Ye=h["a"].extend({components:{CreateJoin:x,WaitingRoom:Y,Game:qe,GameResults:Ge},name:"Home",data:function(){return{socket:Object(p["a"])()}},computed:{notInRoom:function(){return""===this.$store.state.roomId},inRoom:function(){return""!==this.$store.state.roomId&&!this.$store.state.gameState},gameStarted:function(){var e=this.$store.state.gameState;return e&&!e.gameIsOver},gameOver:function(){var e=this.$store.state.gameState;return e&&e.gameIsOver}}}),Ue=Ye,We=(a("21bb"),Object(s["a"])(Ue,l,m,!1,null,null,null)),Ae=We.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v("Welcome to "+e._s(e.room)+", "+e._s(e.user)+"!")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.msgText,expression:"msgText"}],attrs:{type:"text"},domProps:{value:e.msgText},on:{input:function(t){t.target.composing||(e.msgText=t.target.value)}}}),a("button",{on:{click:e.sendChat}},[e._v("Send")]),a("ul",e._l(e.chats,(function(t){return a("li",{key:t.key},[e._v(e._s(t.message))])})),0)])},Xe=[],ze=r["a"].extend({mounted:function(){this.$store.state.user&&this.$store.state.room||(console.log("YOU'RE TOAST! REROUTING!"),this.$router.push("/"))},data:function(){return{msgText:""}},computed:{user:function(){return this.$store.state.user},room:function(){return this.$store.state.room},chats:function(){return this.$store.state.chats}},methods:{sendChat:function(){var e={message:this.msgText,key:Math.random(),sender:this.user,room:this.room};this.$socket.emit("chatMessage",e)}}}),Le=ze,Fe=Object(s["a"])(Le,Je,Xe,!1,null,null,null),Ze=Fe.exports;r["a"].use(d["a"]);var Qe=[{path:"/",name:"Home",component:Ae},{path:"/game",name:"Game",component:qe},{path:"/chat",name:"Chat",component:Ze}],Ve=new d["a"]({mode:"history",base:"/phase-10/",routes:Qe}),et=Ve;a("d81d");function tt(){var e=[];return e}function at(){var e=[];return e}var rt=a("2f62");r["a"].use(rt["a"]);var nt=new rt["a"].Store({state:{chats:at(),discardCard:null,drawCard:null,gamename:"",hand:tt(),playersInRoom:R(),playerId:"",points:0,proctorMessage:"",roomId:"",gameState:null,selectedCardKeys:st()},mutations:{addPlayer:function(e,t){e.playersInRoom.push(t)},setSelectedCardKeys:function(e,t){e.selectedCardKeys=t},unSelectAllCards:function(e){e.selectedCardKeys=st()},setGamename:function(e,t){e.gamename=t},setPlayersInRoom:function(e,t){e.playersInRoom=t},setRoomId:function(e,t){e.roomId=t},setDrawDiscard:function(e,t){e.drawCard=t.draw,e.discardCard=t.discard},setHand:function(e,t){e.hand=it(e.hand,t)},setHandWithoutReorder:function(e,t){e.hand=t},setPoints:function(e,t){e.points=t},setPlayerId:function(e,t){e.playerId=t},setProctorMessage:function(e,t){e.proctorMessage=t},setGameState:function(e,t){t.roundIsOver&&(e.selectedCardKeys=st()),e.gameState=t},addChatMessage:function(e,t){e.chats.push(t)},resetChats:function(e){e.chats=at()}},actions:{SOCKET_chatMessage:function(e,t){var a=e.commit;a("addChatMessage",t)},SOCKET_createConfirmation:function(e,t){var a=e.commit;a("setRoomId",t.roomId);var r=ot(t.roomPlayerData);a("setPlayersInRoom",r)},SOCKET_drawDiscard:function(e,t){var a=e.commit;a("setDrawDiscard",t)},SOCKET_gamenameConfirmation:function(e,t){var a=e.commit;a("setGamename",t.gamename)},SOCKET_gameState:function(e,t){var a=e.commit;a("setGameState",t);var r=ct(this.state.gameState,this.state.gamename);a("setProctorMessage",r)},SOCKET_joinConfirmation:function(e,t){var a=e.commit;a("setRoomId",t.roomId);var r=ot(t.roomPlayerData);a("setPlayersInRoom",r)},SOCKET_ownPlayerData:function(e,t){var a=e.commit;a("setHand",t.hand),a("setPoints",t.points)},SOCKET_playerId:function(e,t){var a=e.commit;a("setPlayerId",t)},SOCKET_proctorMessage:function(e,t){var a=e.commit,r=ct(this.state.gameState,this.state.gamename);a("setProctorMessage",t+" "+r)},SOCKET_roomPlayerData:function(e,t){var a=e.commit,r=ot(t);a("setPlayersInRoom",r)}},modules:{}});function ot(e){var t=e.map((function(e){var t={gamename:e.gamename,phaseNumber:e.phaseNumber,phase:e.phase,points:e.points,key:Math.random()};return t}));return t}function st(){var e={};return e}function it(e,t){for(var a=[],r=function(r){var n=e[r],o=ge.a.findIndex(t,(function(e){return e.key===n.key}));-1!==o&&a.push.apply(a,Object(M["a"])(t.splice(o,1)))},n=0;n<e.length;n++)r(n);return a.push.apply(a,Object(M["a"])(t)),a}function ct(e,t){var a="";return e?(e.roundIsOver?a+="Round complete!":e.playerUp===t?(a+="You're up! ",e.drew?e.played?a+="Discard something to end your turn.":a+="Complete your phase or discard something.":a+="Take a card from the draw or discard pile."):(a+="Waiting for ".concat(e.playerUp," "),e.drew?e.played?a+="to discard.":a+="to play.":a+="to draw."),a):""}var ut=a("5132"),dt=a.n(ut);r["a"].config.productionTip=!1;var lt=Object(p["a"])("https://dev1.gatorgrids.com/");r["a"].use(new dt.a({debug:!0,connection:lt,vuex:{store:nt,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new r["a"]({router:et,store:nt,sockets:{connect:function(){console.log("websocket connected")}},render:function(e){return e(u)}}).$mount("#app")},f1aa:function(e,t,a){"use strict";a("b688")},fa14:function(e,t,a){"use strict";a("3d7f")},ffde:function(e,t,a){"use strict";a("9836")}});
//# sourceMappingURL=app.338d610a.js.map